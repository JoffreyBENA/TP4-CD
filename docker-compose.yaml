version: '3'
services:
  jenkins:
    image: jenkins/jenkins:lts
    ports:
      - 8080:8080
    volumes:
      - jenkins_home:/var/jenkins_home

  gitlab-ci:
    image: gitlab/gitlab-runner:latest
    volumes:
      - ./gitlab-runner/config:/etc/gitlab-runner
      - ./gitlab-runner/cache:/cache

  github-actions:
    image: github-actions-runner:latest
    volumes:
      - ./github-actions-runner/_work:/_work
    env_file:
      - ./github-actions-runner/.env

volumes:
  jenkins_home:
